/**
 * @file bluetooth.h
 * @author Jack Fitton (jf1595@york.ac.uk)
 * @brief Bluetooth communication for the batfink robot
 * @version 0.1
 * @date 22-01-2024
 * 
 * @copyright Copyright (c) 2024
 * 
 */

#ifndef BLUETOOTH_H
#define BLUETOOTH_H

#include <ArduinoBLE.h>
#include <mbed/mbed.h>
#include "error.h"


#define BLE_SERVICE "19B10000-E8F2-537E-4F6C-D104768A1214"

#define BLE_CHARACTERISTIC_ROBOT_STATE_UUID "19B10001-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_ROBOT_X_UUID "19B10002-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_ROBOT_Y_UUID "19B10003-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_ROBOT_THETA_UUID "19B10004-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_ROBOT_FSEN_UUID "19B10005-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_ROBOT_LSEN_UUID "19B10006-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_ROBOT_RSEN_UUID "19B10007-E8F2-537E-4F6C-D104768A1214"

#define BLE_CHARACTERISTIC_CONTROL_DIR_UUID "19B10008-E8F2-537E-4F6C-D104768A1214"
#define BLE_CHARACTERISTIC_CONTROL_DIST_UUID "19B10009-E8F2-537E-4F6C-D104768A1214"


extern rtos::Thread BLEThread;
extern void BLEThreadWorker();
extern int bleSetup();


#endif //BLUETOOTH_H